---
layout: post
title: C# 笔记
date: 2022-10-20
catalog: true
tags: [C#]
---

# C#笔记

## 程序结构

在`C#`中，程序包含在`namespace`命名空间中，可以使用`using`关键词插入其他命名空间的代码

## 数据类型

`C#`一共包含三种大的数据类型：`值类型`，`引用类型`，`指针类型`

- 值类型直接包含数据，声明时，系统自动分配存储空间存储值
- 引用类型不包含实际数据，包含的是对变量的引用，引用类型具体还包含`object`，`dynamic`，`string`三种
- 指针类型与`C++`中的指针类型用法相似

## 常量

使用`const`关键字定义常量

```c#
const int a;
```

## 运算符

几种特殊的运算符

- `sizeof()`：返回**数据类型**的大小

- `typeof()`：返回`class`的类型

- `is`：判断对象是否为某一类型

- `as`：强制转换类型，转换失败也不会抛出异常

  ```c#
  Object obj = new StringReader("Hello");
  StringReader r = obj as StringReader;
  ```

## 访问修饰符

- `public`：所有对象都可访问
- `private`：对象本身在对象内部可以访问
- `protected`：只有该类对象及其子类对象可以访问
- `internal`：同一个程序集的对象可以访问
- `protected internal`：前两个的并集

## 方法

### 引用传递参数

使用`ref`关键字进行引用传递参数

```c#
public void swap(ref int a,ref int b)
{
    int temp = a;
    a = b;
    b = temp;
}
HelloWord helloWord = new HelloWord();
helloWord.swap(ref a, ref b);
```

### 按输出传递参数

使用`out`关键字来进行输入变量的赋值

可以使用输出参数来从函数中返回两个值。输出参数会把方法输出的数据赋给自己，其他方面与引用参数相似

```c#
public void swap(out int a,out int b)
{
    a = 1;
    b = 2;
}
HelloWord helloWord = new HelloWord();
helloWord.swap(out a, out b);
```

## 可空类型

### 单问号

使用`?`单问号来对`int`，`double`，`bool`等无法直接赋值为`null`的数据类型进行`null`赋值

```c#
int? a=null;
```

### 双问号

使用`??`双问号合并运算符进行简化操作

```c#
double? num1=null;
double num2=1;
double num3=num1??num2;
```

上面代码中，如果`num1`为空，则`num3`值为`num2`，反之则为`num1`